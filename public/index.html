<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="box">
    <h2 id="welcome">Welcome</h2>

    <p>Dữ liệu API:</p>
    <ul id="list"></ul>

    <br>
    <a href="/api/logout">Logout</a>
  </div>

  <script>
    // Kiểm tra login
    fetch("/api/user")
      .then(res => res.json())
      .then(user => {
        if (!user) window.location = "login.html";
        else welcome.innerText = "Welcome " + user.username;
      });

    // Gọi API demo
    fetch("https://jsonplaceholder.typicode.com/posts?_limit=5")
      .then(res => res.json())
      .then(data => {
        list.innerHTML = data.map(x => `<li>${x.title}</li>`).join("");
      });
  </script>
</body>
</html>
